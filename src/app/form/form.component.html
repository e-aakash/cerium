<div *ngIf="form && form.pages && page" class="main">
  <div class="page mat-elevation-z3">
    <div class="title">{{ page.title }}</div>
    <div class="description">{{ page.description }}</div>

    <div class="widget"
         *ngFor="let widget of page.widgets" @fadeIn>
      <app-widget [widget]="widget"></app-widget>
    </div>

    <button class="next" mat-raised-button color="primary"
            [routerLink]="nextPage()" *ngIf="!canSectionSubmit()"
            [disabled]="!isValidated()">
      NEXT
    </button>

    <button (click)="submit()" class="save" mat-raised-button color="accent"
            *ngIf="canSectionSubmit()"
            [disabled]="!isValidated() || submitted">
      SUBMIT
    </button>
  </div>
</div>

<div *ngIf="!form && submitted" class="page mat-elevation-z3">
  <div class="title"> Your response has been recorded </div>
  <div class="description"> Thank you for your time! <br/> <span class="monospace">{{ submission }}</span> </div>
</div>
